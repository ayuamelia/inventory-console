{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayuamelia/Documents/my-documents/ay/source-code/assessment/frontend/src/components/layout/Layout.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\n\ntype Theme = \"light\" | \"dark\";\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport default function Layout({ children }: Props) {\n  const router = useRouter();\n  const isProducts =\n    router.pathname === \"/products\" || router.pathname === \"/\";\n  const isAdjustments = router.pathname === \"/adjustments\";\n\n  const [theme, setTheme] = useState<Theme>(\"dark\");\n\n  useEffect(() => {\n    try {\n      const saved = window.localStorage.getItem(\"app-theme\") as Theme | null;\n      if (saved === \"light\" || saved === \"dark\") {\n        setTheme(saved);\n        document.documentElement.dataset.theme = saved;\n        return;\n      }\n\n      const prefersDark = window.matchMedia?.(\n        \"(prefers-color-scheme: dark)\"\n      ).matches;\n      const initial: Theme = prefersDark ? \"dark\" : \"light\";\n      setTheme(initial);\n      document.documentElement.dataset.theme = initial;\n    } catch {\n      document.documentElement.dataset.theme = \"dark\";\n    }\n  }, []);\n\n  useEffect(() => {\n    document.documentElement.dataset.theme = theme;\n    try {\n      window.localStorage.setItem(\"app-theme\", theme);\n    } catch {\n    }\n  }, [theme]);\n\n  function toggleTheme() {\n    setTheme((prev) => (prev === \"dark\" ? \"light\" : \"dark\"));\n  }\n\n  return (\n    <div className=\"app-shell\">\n      <header className=\"app-header\">\n        <div className=\"app-header-inner\">\n          <div className=\"app-brand\">\n            <div className=\"app-brand-avatar\">IN</div>\n            <div className=\"app-brand-text\">\n              <div className=\"app-brand-title\">Inventory Console</div>\n              <div className=\"app-brand-subtitle\">\n                Products &amp; stock adjustments overview\n              </div>\n            </div>\n          </div>\n\n          <div className=\"app-header-right\">\n            <nav className=\"app-nav\">\n              <Link\n                href=\"/products\"\n                className={\n                  \"app-nav-link\" + (isProducts ? \" app-nav-link--active\" : \"\")\n                }\n              >\n                Products\n              </Link>\n              <Link\n                href=\"/adjustments\"\n                className={\n                  \"app-nav-link\" +\n                  (isAdjustments ? \" app-nav-link--active\" : \"\")\n                }\n              >\n                Adjustments\n              </Link>\n            </nav>\n\n            <button\n              type=\"button\"\n              className=\"theme-toggle-btn\"\n              onClick={toggleTheme}\n            >\n              {theme === \"dark\" ? \"‚òÄÔ∏è Light\" : \"üåô Dark\"}\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"app-main\">{children}</main>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAQe,SAAS,OAAO,EAAE,QAAQ,EAAS;IAChD,MAAM,SAAS,IAAA,oIAAS;IACxB,MAAM,aACJ,OAAO,QAAQ,KAAK,eAAe,OAAO,QAAQ,KAAK;IACzD,MAAM,gBAAgB,OAAO,QAAQ,KAAK;IAE1C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAQ;IAE1C,IAAA,gHAAS,EAAC;QACR,IAAI;YACF,MAAM,QAAQ,OAAO,YAAY,CAAC,OAAO,CAAC;YAC1C,IAAI,UAAU,WAAW,UAAU,QAAQ;gBACzC,SAAS;gBACT,SAAS,eAAe,CAAC,OAAO,CAAC,KAAK,GAAG;gBACzC;YACF;YAEA,MAAM,cAAc,OAAO,UAAU,GACnC,gCACA;YACF,MAAM,UAAiB,cAAc,SAAS;YAC9C,SAAS;YACT,SAAS,eAAe,CAAC,OAAO,CAAC,KAAK,GAAG;QAC3C,EAAE,OAAM;YACN,SAAS,eAAe,CAAC,OAAO,CAAC,KAAK,GAAG;QAC3C;IACF,GAAG,EAAE;IAEL,IAAA,gHAAS,EAAC;QACR,SAAS,eAAe,CAAC,OAAO,CAAC,KAAK,GAAG;QACzC,IAAI;YACF,OAAO,YAAY,CAAC,OAAO,CAAC,aAAa;QAC3C,EAAE,OAAM,CACR;IACF,GAAG;QAAC;KAAM;IAEV,SAAS;QACP,SAAS,CAAC,OAAU,SAAS,SAAS,UAAU;IAClD;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAO,WAAU;0BAChB,cAAA,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAI,WAAU;8CAAmB;;;;;;8CAClC,qKAAC;oCAAI,WAAU;;sDACb,qKAAC;4CAAI,WAAU;sDAAkB;;;;;;sDACjC,qKAAC;4CAAI,WAAU;sDAAqB;;;;;;;;;;;;;;;;;;sCAMxC,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAI,WAAU;;sDACb,qKAAC,gIAAI;4CACH,MAAK;4CACL,WACE,iBAAiB,CAAC,aAAa,0BAA0B,EAAE;sDAE9D;;;;;;sDAGD,qKAAC,gIAAI;4CACH,MAAK;4CACL,WACE,iBACA,CAAC,gBAAgB,0BAA0B,EAAE;sDAEhD;;;;;;;;;;;;8CAKH,qKAAC;oCACC,MAAK;oCACL,WAAU;oCACV,SAAS;8CAER,UAAU,SAAS,aAAa;;;;;;;;;;;;;;;;;;;;;;;0BAMzC,qKAAC;gBAAK,WAAU;0BAAY;;;;;;;;;;;;AAGlC"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayuamelia/Documents/my-documents/ay/source-code/assessment/frontend/src/store/useAdjustmentStore.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport type { Adjustment } from \"../lib/api\";\n\ninterface AdjustmentState {\n  items: Adjustment[];\n  page: number;\n  hasMore: boolean;\n  reset: () => void;\n  setPage: (page: number) => void;\n  setData: (items: Adjustment[], hasMore: boolean) => void;\n  prepend: (item: Adjustment) => void;\n  updateItem: (item: Adjustment) => void;\n  removeItem: (id: number) => void;\n}\n\nexport const useAdjustmentStore = create<AdjustmentState>((set) => ({\n  items: [],\n  page: 1,\n  hasMore: true,\n\n  reset: () =>\n    set({\n      items: [],\n      page: 1,\n      hasMore: true,\n    }),\n\n  setPage: (page) => set({ page }),\n\n  setData: (items, hasMore) => set({ items, hasMore }),\n\n  prepend: (item) =>\n    set((state) => ({\n      items: [item, ...state.items],\n    })),\n\n  updateItem: (item) =>\n    set((state) => ({\n      items: state.items.map((a) => (a.id === item.id ? { ...a, ...item } : a)),\n    })),\n\n  removeItem: (id) =>\n    set((state) => ({\n      items: state.items.filter((a) => a.id !== id),\n    })),\n}));\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAeO,MAAM,qBAAqB,IAAA,wHAAM,EAAkB,CAAC,MAAQ,CAAC;QAClE,OAAO,EAAE;QACT,MAAM;QACN,SAAS;QAET,OAAO,IACL,IAAI;gBACF,OAAO,EAAE;gBACT,MAAM;gBACN,SAAS;YACX;QAEF,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;QAE9B,SAAS,CAAC,OAAO,UAAY,IAAI;gBAAE;gBAAO;YAAQ;QAElD,SAAS,CAAC,OACR,IAAI,CAAC,QAAU,CAAC;oBACd,OAAO;wBAAC;2BAAS,MAAM,KAAK;qBAAC;gBAC/B,CAAC;QAEH,YAAY,CAAC,OACX,IAAI,CAAC,QAAU,CAAC;oBACd,OAAO,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG;4BAAE,GAAG,CAAC;4BAAE,GAAG,IAAI;wBAAC,IAAI;gBACxE,CAAC;QAEH,YAAY,CAAC,KACX,IAAI,CAAC,QAAU,CAAC;oBACd,OAAO,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;gBAC5C,CAAC;IACL,CAAC"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayuamelia/Documents/my-documents/ay/source-code/assessment/frontend/src/lib/api.ts"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:4000/api\";\n\n/** ====== Types ====== */\nexport interface Product {\n  id: number;\n  sku: string;\n  title: string;\n  price: number;\n  description?: string | null;\n  image_url?: string | null;\n  category?: string | null;\n  stock?: number;\n}\n\nexport interface Adjustment {\n  id: number;\n  product_id: number;\n  sku: string;\n  title?: string;\n  qty: number;\n  amount: number;\n  created_at: string;\n}\n\nexport type UpdateProductResult =\n  | { ok: true; data: Product }\n  | { ok: false; message: string };\n\nexport type CreateProductResult =\n  | { ok: true; data: Product }\n  | { ok: false; message: string };\n\nexport type ProductListOptions = {\n  q?: string;\n  sort?: \"id\" | \"sku\" | \"title\" | \"price\" | \"stock\" | \"created_at\";\n  dir?: \"asc\" | \"desc\";\n  category?: string;\n};\n\nexport interface ProductCategoryOption {\n  value: string;\n  label: string;\n  count: number;\n}\n\nexport type DeleteProductResult = \n  { ok: true } \n  | { ok: false; message: string };\n\nexport type AdjustmentListOptions = {\n  sku?: string;\n};\n\nexport type CreateAdjustmentResult =\n  | { ok: true; data: Adjustment }\n  | { ok: false; message: string };\n\nexport type UpdateAdjustmentResult =\n  | { ok: true; data: Adjustment }\n  | { ok: false; message: string };\n\nexport type DeleteAdjustmentResult =\n  | { ok: true }\n  | { ok: false; message: string };\n\n/** ====== Products API ====== */\nexport async function fetchProducts(\n  page = 1,\n  limit = 8,\n  opts: ProductListOptions = {}\n): Promise<{ data: Product[]; page: number; limit: number }> {\n  const params = new URLSearchParams();\n  params.set(\"page\", String(page));\n  params.set(\"limit\", String(limit));\n\n  if (opts.q) params.set(\"q\", opts.q);\n  if (opts.sort) params.set(\"sort\", opts.sort);\n  if (opts.dir) params.set(\"dir\", opts.dir);\n  if (opts.category && opts.category !== \"all\") {\n    params.set(\"category\", opts.category);\n  }\n\n  const url = `${API_URL}/products?${params.toString()}`;\n  const res = await fetch(url);\n\n  if (!res.ok) {\n    const text = await res.text().catch(() => \"\");\n    console.error(\"[fetchProducts] error response:\", res.status, text);\n    throw new Error(\"Failed to fetch products\");\n  }\n\n  return res.json();\n}\n\nexport async function fetchProductDetail(id: number): Promise<Product> {\n  const res = await fetch(`${API_URL}/products/${id}`);\n  if (!res.ok) {\n    throw new Error(\"Failed to fetch product detail\");\n  }\n  return res.json();\n}\n\nexport async function fetchProductCategories(): Promise<ProductCategoryOption[]> {\n  const res = await fetch(`${API_URL}/products/categories`);\n\n  if (!res.ok) {\n    const text = await res.text().catch(() => \"\");\n    console.error(\"[fetchProductCategories] error:\", res.status, text);\n    throw new Error(\"Failed to fetch product categories\");\n  }\n\n  const json = await res.json();\n  return json.data as ProductCategoryOption[];\n}\n\nexport async function createProduct(body: {\n  sku: string;\n  title: string;\n  price: number;\n  description?: string | null;\n  image_url?: string | null;\n  category?: string | null;\n}): Promise<CreateProductResult> {\n  const res = await fetch(`${API_URL}/products`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(body),\n  });\n\n  if (!res.ok) {\n    let message = \"Failed to create product\";\n\n    try {\n      const text = await res.text();\n      console.error(\"[createProduct] error response:\", res.status, text);\n      if (text) {\n        const json = JSON.parse(text);\n        if (json?.message) {\n          message = json.message;\n        }\n      }\n      if (res.status === 409 && !message) {\n        message = \"Product with this SKU already exists\";\n      }\n    } catch (err) {\n      console.error(\"[createProduct] failed to parse error body\", err);\n    }\n\n    return { ok: false, message };\n  }\n\n  const data = (await res.json()) as Product;\n  return { ok: true, data };\n}\n\nexport async function updateProduct(\n  id: number,\n  body: Partial<Omit<Product, \"id\" | \"stock\">>\n): Promise<UpdateProductResult> {\n  const res = await fetch(`${API_URL}/products/${id}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(body),\n  });\n\n  if (!res.ok) {\n    let errorMessage = \"Failed to update product\";\n\n    try {\n      const text = await res.text();\n      console.error(\"[updateProduct] error response:\", res.status, text);\n\n      if (text) {\n        const json = JSON.parse(text);\n        if (json?.message) {\n          errorMessage = json.message;\n        }\n      }\n\n      if (res.status === 409 && !errorMessage) {\n        errorMessage = \"Product SKU already exists\";\n      }\n    } catch (parseErr) {\n      console.error(\"[updateProduct] failed to parse error body\", parseErr);\n    }\n\n    return { ok: false, message: errorMessage };\n  }\n\n  const data = (await res.json()) as Product;\n  return { ok: true, data };\n}\n\nexport async function deleteProduct(id: number): Promise<DeleteProductResult> {\n  const res = await fetch(`${API_URL}/products/${id}`, {\n    method: \"DELETE\",\n  });\n\n  if (!res.ok) {\n    let message = \"Failed to delete product\";\n\n    try {\n      const text = await res.text();\n      console.error(\"[deleteProduct] error response:\", res.status, text);\n      if (text) {\n        const json = JSON.parse(text);\n        if (json?.message) {\n          message = json.message;\n        }\n      }\n    } catch (err) {\n      console.error(\"[deleteProduct] failed to parse error body\", err);\n    }\n\n    return { ok: false, message };\n  }\n\n  return { ok: true };\n}\n\n/** ====== Adjustments API ====== */\n\nexport async function fetchAdjustments(\n  page = 1,\n  limit = 10,\n  opts: AdjustmentListOptions = {}\n): Promise<{ data: Adjustment[]; page: number; limit: number }> {\n  const params = new URLSearchParams();\n  params.set(\"page\", String(page));\n  params.set(\"limit\", String(limit));\n  if (opts.sku) params.set(\"sku\", opts.sku);\n\n  const url = `${API_URL}/adjustments?${params.toString()}`;\n  const res = await fetch(url);\n\n  if (!res.ok) {\n    const text = await res.text().catch(() => \"\");\n    console.error(\"[fetchAdjustments] error response:\", res.status, text);\n    throw new Error(\"Failed to fetch adjustments\");\n  }\n\n  return res.json();\n}\n\nexport async function createAdjustment(body: {\n  product_sku: string;\n  qty: number;\n  amount?: number | null;\n}): Promise<CreateAdjustmentResult> {\n  const res = await fetch(`${API_URL}/adjustments`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(body),\n  });\n\n  if (!res.ok) {\n    let message = \"Failed to create adjustment\";\n\n    try {\n      const text = await res.text();\n      console.error(\"[createAdjustment] error response:\", res.status, text);\n      if (text) {\n        const json = JSON.parse(text);\n        if (json?.message) {\n          message = json.message;\n        }\n      }\n    } catch (err) {\n      console.error(\"[createAdjustment] parse error\", err);\n    }\n\n    return { ok: false, message };\n  }\n\n  const data = (await res.json()) as Adjustment;\n  return { ok: true, data };\n}\n\nexport async function updateAdjustment(\n  id: number,\n  body: { qty?: number; amount?: number | null }\n): Promise<UpdateAdjustmentResult> {\n  const res = await fetch(`${API_URL}/adjustments/${id}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(body),\n  });\n\n  if (!res.ok) {\n    let message = \"Failed to update adjustment\";\n    try {\n      const text = await res.text();\n      console.error(\"[updateAdjustment] error response:\", res.status, text);\n      if (text) {\n        const json = JSON.parse(text);\n        if (json?.message) message = json.message;\n      }\n    } catch (err) {\n      console.error(\"[updateAdjustment] parse error\", err);\n    }\n    return { ok: false, message };\n  }\n\n  const data = (await res.json()) as Adjustment;\n  return { ok: true, data };\n}\n\nexport async function deleteAdjustment(\n  id: number\n): Promise<DeleteAdjustmentResult> {\n  const res = await fetch(`${API_URL}/adjustments/${id}`, {\n    method: \"DELETE\",\n  });\n\n  if (!res.ok) {\n    let message = \"Failed to delete adjustment\";\n    try {\n      const text = await res.text();\n      console.error(\"[deleteAdjustment] error response:\", res.status, text);\n      if (text) {\n        const json = JSON.parse(text);\n        if (json?.message) message = json.message;\n      }\n    } catch (err) {\n      console.error(\"[deleteAdjustment] parse error\", err);\n    }\n    return { ok: false, message };\n  }\n\n  return { ok: true };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///Users/ayuamelia/Documents/my-documents/ay/source-code/assessment/frontend/src/pages/adjustments.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Layout from \"../components/layout/Layout\";\nimport { useAdjustmentStore } from \"../store/useAdjustmentStore\";\nimport {\n  fetchAdjustments,\n  createAdjustment,\n  updateAdjustment,\n  deleteAdjustment,\n  type Adjustment,\n} from \"../lib/api\";\n\nconst LIMIT = 10;\n\nexport default function AdjustmentsPage() {\n  const { items, page, hasMore, setPage, setData, reset, prepend, updateItem, removeItem } = useAdjustmentStore();\n  const [loading, setLoading] = useState(false);\n  const [skuInput, setSkuInput] = useState(\"\");\n  const [qtyInput, setQtyInput] = useState(\"\");\n  const [amountInput, setAmountInput] = useState(\"\");\n  const [formError, setFormError] = useState<string | null>(null);\n  const [formSubmitting, setFormSubmitting] = useState(false);\n\n  const [filterSku, setFilterSku] = useState(\"\");\n  const [filterSkuInput, setFilterSkuInput] = useState(\"\");\n\n  const [editModalOpen, setEditModalOpen] = useState(false);\n  const [editFormError, setEditFormError] = useState<string | null>(null);\n  const [editSubmitting, setEditSubmitting] = useState(false);\n  const [editingId, setEditingId] = useState<number | null>(null);\n  const [editQty, setEditQty] = useState(\"\");\n  const [editAmount, setEditAmount] = useState(\"\");\n\n  async function loadPage(targetPage: number, opts?: { keepItems?: boolean }) {\n    if (loading) return;\n    setLoading(true);\n    setFormError(null);\n\n    try {\n      const res = await fetchAdjustments(targetPage, LIMIT, {\n        sku: filterSku || undefined,\n      });\n      setData(res.data, res.data.length === LIMIT);\n      setPage(targetPage);\n    } catch (e) {\n      console.error(\"[AdjustmentsPage] loadPage error\", e);\n      setFormError(\"Failed to load adjustments\");\n      if (!opts?.keepItems) {\n        setData([], false);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    reset();\n    loadPage(1);\n  }, [reset]);\n\n  useEffect(() => {\n    const handle = setTimeout(() => {\n      setFilterSku(filterSkuInput.trim());\n    }, 400);\n    return () => clearTimeout(handle);\n  }, [filterSkuInput]);\n\n  useEffect(() => {\n    reset();\n    loadPage(1);\n  }, [filterSku]);\n\n  async function handleSubmitAdjustment(e: React.FormEvent) {\n    e.preventDefault();\n    setFormError(null);\n\n    const sku = skuInput.trim();\n    if (!sku) {\n      setFormError(\"Product SKU is required\");\n      return;\n    }\n\n    const qtyNum = Number(qtyInput);\n    if (!Number.isFinite(qtyNum) || qtyNum === 0) {\n      setFormError(\"Qty must be a non-zero number\");\n      return;\n    }\n\n    let amountNum: number | null = null;\n    if (amountInput.trim() !== \"\") {\n      const normalized = amountInput.replace(\",\", \".\");\n      amountNum = Number(normalized);\n      if (!Number.isFinite(amountNum)) {\n        setFormError(\"Amount must be a valid number\");\n        return;\n      }\n    }\n\n    setFormSubmitting(true);\n\n    try {\n      const result = await createAdjustment({\n        product_sku: sku,\n        qty: qtyNum,\n        amount: amountNum ?? undefined,\n      });\n\n      if (!result.ok) {\n        setFormError(result.message);\n        return;\n      }\n\n      prepend(result.data);\n\n      setSkuInput(\"\");\n      setQtyInput(\"\");\n      setAmountInput(\"\");\n    } catch (err) {\n      console.error(\"[AdjustmentsPage] unexpected submit error\", err);\n      setFormError(\"Unexpected error while creating adjustment\");\n    } finally {\n      setFormSubmitting(false);\n    }\n  }\n\n  function handleOpenEdit(adj: Adjustment) {\n    setEditingId(adj.id);\n    setEditQty(String(adj.qty));\n    setEditAmount(adj.amount != null ? String(adj.amount) : \"\");\n    setEditFormError(null);\n    setEditModalOpen(true);\n  }\n\n  function handleCloseEdit() {\n    if (editSubmitting) return;\n    setEditModalOpen(false);\n    setEditingId(null);\n    setEditFormError(null);\n    setEditQty(\"\");\n    setEditAmount(\"\");\n  }\n\n  async function handleSaveEdit() {\n    if (!editingId) return;\n    setEditFormError(null);\n\n    const qtyNum = Number(editQty);\n    if (!Number.isFinite(qtyNum) || qtyNum === 0) {\n      setEditFormError(\"Qty must be a non-zero number\");\n      return;\n    }\n\n    let amountNum: number | null = null;\n    if (editAmount.trim() !== \"\") {\n      const norm = editAmount.replace(\",\", \".\");\n      amountNum = Number(norm);\n      if (!Number.isFinite(amountNum)) {\n        setEditFormError(\"Amount must be a valid number\");\n        return;\n      }\n    }\n\n    setEditSubmitting(true);\n\n    try {\n      const result = await updateAdjustment(editingId, {\n        qty: qtyNum,\n        amount: amountNum ?? undefined,\n      });\n\n      if (!result.ok) {\n        setEditFormError(result.message);\n        return;\n      }\n\n      updateItem(result.data);\n      handleCloseEdit();\n    } catch (err) {\n      console.error(\"[AdjustmentsPage] unexpected edit error\", err);\n      setEditFormError(\"Unexpected error while saving\");\n    } finally {\n      setEditSubmitting(false);\n    }\n  }\n\n  async function handleDeleteEdit() {\n    if (!editingId) return;\n\n    const confirmed = window.confirm(\n      \"Are you sure you want to delete this adjustment?\"\n    );\n    if (!confirmed) return;\n\n    setEditFormError(null);\n    setEditSubmitting(true);\n\n    try {\n      const result = await deleteAdjustment(editingId);\n      if (!result.ok) {\n        setEditFormError(result.message);\n        return;\n      }\n\n      removeItem(editingId);\n      handleCloseEdit();\n    } catch (err) {\n      console.error(\"[AdjustmentsPage] unexpected delete error\", err);\n      setEditFormError(\"Unexpected error while deleting\");\n    } finally {\n      setEditSubmitting(false);\n    }\n  }\n\n  return (\n    <Layout>\n      <div className=\"surface\">\n        <div className=\"surface-header\">\n          <div className=\"surface-title\">\n            <h1>Stock Adjustments</h1>\n            <p>Transaction history of stock movements per product.</p>\n          </div>\n\n          <div className=\"toolbar\">\n            <input\n              className=\"input toolbar-input\"\n              placeholder=\"Filter by SKU‚Ä¶\"\n              value={filterSkuInput}\n              onChange={(e) => setFilterSkuInput(e.target.value)}\n            />\n            <div className=\"chip\">\n              Page <strong>{page}</strong>\n            </div>\n            <div className=\"chip\">\n              Rows <strong>{items.length}</strong>\n            </div>\n          </div>\n        </div>\n\n        <form\n          onSubmit={handleSubmitAdjustment}\n          className=\"adjustment-form\"\n        >\n          <div className=\"modal-field\">\n            <label className=\"modal-label\">Product SKU</label>\n            <input\n              className=\"modal-input\"\n              value={skuInput}\n              onChange={(e) => setSkuInput(e.target.value)}\n              placeholder=\"e.g. 1, 2, or dummy SKU\"\n            />\n          </div>\n\n          <div className=\"modal-field\">\n            <label className=\"modal-label\">Qty (+ / -)</label>\n            <input\n              className=\"modal-input\"\n              inputMode=\"numeric\"\n              value={qtyInput}\n              onChange={(e) => {\n                const raw = e.target.value;\n                if (raw === \"\" || /^-?\\d*$/.test(raw)) {\n                  setQtyInput(raw);\n                }\n              }}\n              placeholder=\"e.g. 5 or -3\"\n            />\n          </div>\n\n          <div className=\"modal-field\">\n            <label className=\"modal-label\">Amount (USD)</label>\n            <input\n              className=\"modal-input\"\n              inputMode=\"decimal\"\n              value={amountInput}\n              onChange={(e) => {\n                const raw = e.target.value;\n                if (raw === \"\") {\n                  setAmountInput(\"\");\n                  return;\n                }\n                const normalized = raw.replace(\",\", \".\");\n                if (/^-?\\d*\\.?\\d{0,2}$/.test(normalized)) {\n                  setAmountInput(raw);\n                }\n              }}\n              placeholder=\"Optional, auto = price * qty\"\n            />\n          </div>\n\n          <div style={{ alignSelf: \"flex-end\", paddingBottom: \"0.1rem\" }}>\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              disabled={formSubmitting}\n            >\n              {formSubmitting ? \"Saving‚Ä¶\" : \"Add\"}\n            </button>\n          </div>\n        </form>\n\n        {formError && (\n          <div className=\"modal-error\" style={{ marginBottom: \"0.5rem\" }}>\n            {formError}\n          </div>\n        )}\n\n        <div className=\"table-wrapper\">\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>SKU</th>\n                <th>Product</th>\n                <th>Qty</th>\n                <th>Amount (USD)</th>\n                <th>Created</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((a: Adjustment) => {\n                const isPositive = a.qty > 0;\n                const badgeClass = isPositive\n                  ? \"badge badge-green\"\n                  : \"badge badge-red\";\n                const sign = isPositive ? \"+\" : \"\";\n\n                return (\n                  <tr key={a.id}>\n                    <td>{a.id}</td>\n                    <td>{a.sku}</td>\n                    <td>{a.title}</td>\n                    <td>\n                      <span className={badgeClass}>\n                        {sign}\n                        {a.qty}\n                      </span>\n                    </td>\n                    <td>\n                      {Intl.NumberFormat(\"en-US\", {\n                        style: \"currency\",\n                        currency: \"USD\",\n                        maximumFractionDigits: 2,\n                      }).format(a.amount ?? 0)}\n                    </td>\n                    <td>{new Date(a.created_at).toLocaleString(\"id-ID\")}</td>\n                    <td>\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-ghost\"\n                        onClick={() => handleOpenEdit(a)}\n                      >\n                        Edit\n                      </button>\n                    </td>\n                  </tr>\n                );\n              })}\n              {editModalOpen && (\n                <div className=\"modal-backdrop\" onClick={handleCloseEdit}>\n                  <div\n                    className=\"modal\"\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    <div className=\"modal-header\">\n                      <div>\n                        <div className=\"modal-title\">Edit adjustment</div>\n                        {editingId && (\n                          <div className=\"modal-subtitle\">ID: {editingId}</div>\n                        )}\n                      </div>\n                      <button\n                        className=\"modal-close-btn\"\n                        type=\"button\"\n                        onClick={handleCloseEdit}\n                        disabled={editSubmitting}\n                      >\n                        √ó\n                      </button>\n                    </div>\n\n                    {editFormError && (\n                      <div className=\"modal-error\">{editFormError}</div>\n                    )}\n\n                    <div className=\"modal-body\">\n                      <div className=\"modal-field\">\n                        <label className=\"modal-label\">Qty (+/-)</label>\n                        <input\n                          className=\"modal-input\"\n                          inputMode=\"numeric\"\n                          value={editQty}\n                          onChange={(e) => {\n                            const raw = e.target.value;\n                            if (raw === \"\" || /^-?\\d*$/.test(raw)) {\n                              setEditQty(raw);\n                            }\n                          }}\n                        />\n                      </div>\n\n                      <div className=\"modal-field\">\n                        <label className=\"modal-label\">Amount (USD)</label>\n                        <input\n                          className=\"modal-input\"\n                          inputMode=\"decimal\"\n                          value={editAmount}\n                          onChange={(e) => {\n                            const raw = e.target.value;\n                            if (raw === \"\") {\n                              setEditAmount(\"\");\n                              return;\n                            }\n                            const norm = raw.replace(\",\", \".\");\n                            if (/^-?\\d*\\.?\\d{0,2}$/.test(norm)) {\n                              setEditAmount(raw);\n                            }\n                          }}\n                          placeholder=\"Optional, auto = price * qty\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"modal-footer\">\n                      <div>\n                        {editSubmitting && (\n                          <span style={{ color: \"#9ca3af\" }}>Saving‚Ä¶</span>\n                        )}\n                      </div>\n                      <div style={{ display: \"flex\", gap: \"0.4rem\", alignItems: \"center\" }}>\n                        {editingId && (\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-ghost\"\n                            onClick={handleDeleteEdit}\n                            disabled={editSubmitting}\n                          >\n                            Delete\n                          </button>\n                        )}\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-ghost\"\n                          onClick={handleCloseEdit}\n                          disabled={editSubmitting}\n                        >\n                          Cancel\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-primary\"\n                          onClick={handleSaveEdit}\n                          disabled={editSubmitting}\n                        >\n                          Save changes\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {items.length === 0 && !loading && (\n                <tr>\n                  <td colSpan={6} style={{ textAlign: \"center\", padding: \"0.8rem\" }}>\n                    No adjustment data\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"pagination\">\n          <button\n            className=\"btn btn-ghost\"\n            disabled={page <= 1 || loading}\n            onClick={() => loadPage(page - 1)}\n          >\n            Prev\n          </button>\n          <span>Page {page}</span>\n          <button\n            className=\"btn btn-ghost\"\n            disabled={!hasMore || loading}\n            onClick={() => loadPage(page + 1, { keepItems: true })}\n          >\n            Next\n          </button>\n          {loading && <span>Loading‚Ä¶</span>}\n        </div>\n      </div>\n    </Layout>\n  );\n}"],"names":[],"mappings":"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"}}]
}